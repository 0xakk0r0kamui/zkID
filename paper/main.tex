%%%% IACR Transactions TEMPLATE %%%%
% This file shows how to use the iacrtrans class to write a paper.
% Written by Gaetan Leurent gaetan.leurent@inria.fr (2020)
% Public Domain (CC0)


%%%% 1. DOCUMENTCLASS %%%%
\documentclass{iacrtrans}
%%%% NOTES:
% - Change "journal=tosc" to "journal=tches" if needed
% - Change "submission" to "final" for final version
% - Add "spthm" for LNCS-like theorems


%%%% 2. PACKAGES %%%%
\usepackage{lipsum} % Example package -- can be removed
\usepackage{booktabs}


%%% COMMANDS
\newcommand{\jbel}[1]{{\color{blue}{}jbel: #1}}
\newcommand{\ndhy}[1]{{\color{blue}{}ndhy: #2}}

%%%% 3. AUTHOR, INSTITUTE %%%%
\author{Jane Doe\inst{1,2} \and John Doe\inst{1}}
\institute{
  Institute A, City, Country, \email{jane@institute}
  \and
  Institute B, City, Country, \email{john@institute}
}
%%%% NOTES:
% - We need a city name for indexation purpose, even if it is redundant
%   (eg: University of Atlantis, Atlantis, Atlantis)
% - \inst{} can be omitted if there is a single institute,
%   or exactly one institute per author


%%%% 4. TITLE %%%%
\title{zkID technical report}
%%%% NOTES:
% - If the title is too long, or includes special macro, please
%   provide a "running title" as optional argument: \title[Short]{Long}
% - You can provide an optional subtitle with \subtitle.

\begin{document}

\maketitle


%%%% 5. KEYWORDS %%%%
\keywords{Anonymous credential \and programmable zkp}


%%%% 6. ABSTRACT %%%%
\begin{abstract}
  Main deliveries: 1. Technical report on zk component for the digital id wallet 2. A comparison with current works 3. Applying to EUDI.
\end{abstract}


%%%% 7. PAPER CONTENT %%%%
\section{Introduction}
\label{sec:introduction}
% Introducing DI and Selective disclosure. From Selective Disclosure to VCs lead to Anonymous credential.
% In Anonymous credential, talking about related works and their main approaches.
\textit{In this section, we will present the definition of the scheme, the need for it, and our scope of work.}

\subsection{Problems and our scope of work}
\begin{itemize}
    \item What are we trying to solve, which pain points? 
    \begin{itemize}
        \item \textbf{\href{https://mirror.xyz/privacy-scaling-explorations.eth/zRM7qQSt_igfoSxdSa0Pts9MFdAoD96DD3m43bPQJT8}{This doc} dive deeper in the current problems and some current tool could be used \\ in future solutions}
        \item \textbf{Answer described in this docs, \href{https://www.notion.so/pse-team/External-zkID-ZKP-Wallet-Unit-Proposal-1bad57e8dd7e80c98d73fc7e7666375d?pvs=25\#1bad57e8dd7e8059a446ca7b1dc31323}{Short-term Deliverables $\&$ Further Exploration}}
        \item \textbf{And in this \href{https://pse.dev/en/projects/zk-id}{doc}} 
    \end{itemize}
\end{itemize}
\subsection{Our achievements}
\begin{itemize}
    \item We need to describe zkID as simple as possible. What is it based on, like, well-known terms, and well-known algorithms?... \textit{I don't know the final zkID construction yet. Based on \href{https://pse-team.notion.site/zkID-Team-Strategy-Proposal-db3c5788dc7a4916a33e580a79177053}{\textbf{this proposal}}, I think there is a PoC construction, but I don't have access permission to it.}
    \jbel{the full architecture and POC don't exist yet -- there are several streams going in parallel (some people thinking about architecture, some people benchmarking to inform that, some people creating a POC)}
    \begin{itemize}
        \item What are the main achievements, main results of our work?
        \item What are the properties that our scheme satisfies?
        \item What is the best experiment results and the environment of it?
    \end{itemize} 
\end{itemize}
\subsection{Related work and how they make things right}
\begin{itemize}
    \item Before us, are there any solutions for these problems, and what are their pros and cons?
    \begin{itemize}
        \item \textbf{Overrall about current approaches is listed in \href{https://docs.google.com/presentation/d/1YROCEHK_t10wo5CukgYWmS1nuYKZi46NJBu-XZ8zXiw/edit?slide=id.p\#slide=id.p}{this presentation} (also in \href{https://docs.google.com/presentation/d/1HqFtSiS2hVHaSS8-u-8iecVFeMehMGBtZJnnbnXj83c/edit?slide=id.g34d4bb36836_0_262\#slide=id.g34d4bb36836_0_262}{this shorter version}), 
 need to dig deeper to know how they solve these problems above.}
        \item \textbf{\href{https://docs.google.com/presentation/d/1C4D8zK4gAdafgIEW-2m_qDyyT39gWo0mmFYpwmA8N3M/edit?slide=id.g312b09519cd_0_8\#slide=id.g312b09519cd_0_8}{This slide} also describe similar content but dive deeper in technical, and have the proposal design constraints.}
        \begin{itemize}
            \item Google solution: Tradeoffs and Considerations. 
                \begin{itemize}
                    \item Pros: 
                \end{itemize}
                
            \item Microsoft solution: Tradeoffs and Considerations.
            \item Our zkID:
                * preprocessing 
        \end{itemize}
    \end{itemize} 
\end{itemize}


\section{Preliminaries}
\label{sec:preliminaries}
\textit{Foundational concepts to understand zkID}

\begin{enumerate}
   \item  High level overview of the parties and the trust assumptions with each one
   \
\end{enumerate}


\section{Our zkID}
\label{sec:contribution}
\textit{main deliveries: 1. describe zkID; 2. the detailed construction}

\begin{enumerate}
    \item What are key techniques that will be used in our schemes?
    \begin{itemize}
        \item What are its inputs and outputs?
        \item Participants and requirements of the techniques.
    \end{itemize}
    \item Describes the complete scheme, from preparation to verification. 
    \begin{itemize}
        \item The preliminaries of users when they use our system.
        \item What is the difference between the preparation of this scheme and the traditional way?
        \item Some questions we also answer here but just with a compact version, the detailed or proof will be shown in Security or Appendix section.
        \begin{itemize}
            \item Is it a dishonest majority setting or something else? 
            \item What happens when the setting is broken?
            \item What trust assumptions are our scheme based on?
            \item Is this quantum-resistant? If not, is it upgradable to quantum-resistant?
            \item The correctness, soundness, and zk.
        \end{itemize}
    \end{itemize}
    \item Discuss about the compatibility of our system when upgrading from an older system.
    \begin{enumerate}
        \item What happens with the older system?
        \begin{itemize}
            \item Is it required to change the issuance process? 
            \item Is it a breaking change or just a soft update?
            \item What happens with the issued ID, can it be re-used, and re-issued with a new scheme?
            % should be revoked
            \item \textbf{It depends on the answer about the final construction. But we have some design constraints that should be followed, which are described in slide 111 of \href{https://docs.google.com/presentation/d/1C4D8zK4gAdafgIEW-2m_qDyyT39gWo0mmFYpwmA8N3M/edit?slide=id.g338a079cb64_0_31\#slide=id.g338a079cb64_0_31}{this doc}} 
        \end{itemize} 
        \item What about the new PID?
        \begin{enumerate}
            \item What is the difference between the PID of the new scheme and the current version? Is it added more data fields to the current struct?
            \item If not, is the process from PID to scheme input straightforward (and provable?)?
% \textbf{            \item What if the Issuer or the ID owner wants to revoke some IDs, does it require the Issuer to update frequently? -- still need to add this}            \item If the Issuer needs to update frequently, what if they are disconnected for a while? 
            \item What is the trust assumption?
        \end{enumerate}
    \end{enumerate}
    \item After show the detailed construction, we will show more detailed about why our construction should be considered with some detailed.
    \begin{enumerate}
        \item What are the main advantages that make zkID outperform other solutions? 
            \item TODO: wait for benchmarks from the technical team 
        \item What are the trade-offs if users take our advancement?
    \end{enumerate}
\end{enumerate}



% \subsection{VCDM}
% \label{subsec:vcdm}
% \paragraph{}

% \subsection{ZK wrapper for digital signature}
% \label{subsec:zkwrapper}
% \paragraph{}



\section{Experiments}
\label{sec:experiments}
\begin{enumerate}
    \item What are the exact communication, computation, and storage costs of \begin{itemize}
        \item The PID Provider \& Verifier.
        \item User who uses a mobile (iOS, Android) or browser?
        \item The detailed cost of setup, proving, and verifying steps.
    \end{itemize}
    \item What is the minimum hardware configuration? 
\end{enumerate}

\textbf{We can extract the benchmark results from \href{https://hackmd.io/@clientsideproving/zkIDBenchmarks}{this doc} (it's \href{https://github.com/privacy-scaling-explorations/zkid-benchmarks}{git repo}) }

\jbel{Still waiting 1-2 weeks for benchmarks on the POC}

Notably, we also show the detailed comparison between our zkID and solutions from GG and Microsoft.


\section{Application to EUDI}
\label{sec:appeudi}

\jbel{Links to read (we can basically copy paste a lot from these):
\begin{itemize}
\item EUDI ARF (full) \href{https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/latest/}{here}
\item Discussion of Google/Microsoft pros/cons \href{https://github.com/eu-digital-identity-wallet/eudi-doc-standards-and-technical-specifications/blob/main/docs/technical-specifications/ts4-zkp.md}{here}
\item Google's IETF draft for libZK \href{https://www.ietf.org/id/draft-google-cfrg-libzk-00.html#name-sumcheck}{here}
\end{itemize}}

Why should EUDI consider this report?
\begin{itemize}
    \item Does it compatible with current EUDI decision like data format and ecosystems?
    \item Why governments or organizations should choose this scheme?
    \item \textbf{Our pros and cons are already shown in other sections, so just mentioned them when we need them in this section}
\end{itemize}

\section{Security}
\label{sec:security}

Give a detailed answer and analysis for:
\begin{itemize}
    \item Is the scheme a dishonest majority setting or something else? What happens when the setting is broken?
    \jbel{\begin{itemize}
        \item ZK is addressing malicious verifier -- semihonest 
        \item soundness -- address malicious prover
        \item trust assumption - verifier is trusted/honest, issuer is trusted/honest
        \item deniable presentation? -- ask YT
    \end{itemize}}
        
    \item If the Issuer needs to update frequently, what if they are disconnected for a while? 
    \item Place the scheme into a poor network connection, does it still work well and not be vulnerable?
    \jbel{depends on solution to revocation flow, and also what applications of ID presentation look like (e.g. are the prover and verifier talking through internet channels?)}
	\item If it fails during the process, what will happen?
	\item If it is not quantum resistant, how do we upgrade it to quantum resistant? -- it is quantum resistant
\end{itemize}


\section{Conclusion}
\label{sec:conclusion}

%%%% 8. BILBIOGRAPHY %%%%
\bibliographystyle{alpha}
\bibliography{abbrev3,crypto,biblio}
%%%% NOTES
% - Download abbrev3.bib and crypto.bib from https://cryptobib.di.ens.fr/
% - Use biblio.bib for additional references not in the cryptobib database.
%   If possible, take them from DBLP.

\end{document}
